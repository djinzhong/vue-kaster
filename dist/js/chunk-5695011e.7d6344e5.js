(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5695011e"],{"0cfa":function(e,t,i){"use strict";var l=i("b8cb"),a=i.n(l);a.a},aaf8:function(e,t,i){"use strict";i.r(t);var l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-breadcrumb",{staticStyle:{padding:"0 0 40px 20px"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),i("el-breadcrumb-item",{attrs:{to:{name:"caballero"}}},[e._v("骑师/练马师")]),i("el-breadcrumb-item",[e._v("骑师/练马师配置")])],1),i("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[i("el-form-item",{staticClass:"inline-block",attrs:{label:"名称"}},[i("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),i("el-form-item",{staticClass:"inline-block",attrs:{label:"类型"}},[i("el-select",{staticStyle:{width:"182px"},attrs:{placeholder:"请选择"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[i("el-option",{attrs:{label:"骑师",value:"1"}}),i("el-option",{attrs:{label:"练马师",value:"2"}})],1)],1),i("el-form-item",{staticClass:"inline-block",attrs:{label:"独赢"}},[i("el-input",{model:{value:e.form.win,callback:function(t){e.$set(e.form,"win",t)},expression:"form.win"}})],1),i("el-form-item",{staticClass:"inline-block",attrs:{label:"位置"}},[i("el-input",{model:{value:e.form.place,callback:function(t){e.$set(e.form,"place",t)},expression:"form.place"}})],1),i("el-form-item",{staticClass:"inline-block",attrs:{label:"出场总数"}},[i("el-input",{model:{value:e.form.total,callback:function(t){e.$set(e.form,"total",t)},expression:"form.total"}})],1),i("el-form-item",{staticClass:"inline-block",attrs:{label:"排名"}},[i("el-input",{model:{value:e.form.rank,callback:function(t){e.$set(e.form,"rank",t)},expression:"form.rank"}})],1),i("el-form-item",{staticClass:"inline-block",attrs:{label:"第一"}},[i("el-input",{model:{value:e.form.first,callback:function(t){e.$set(e.form,"first",t)},expression:"form.first"}})],1),i("el-form-item",{staticClass:"inline-block",attrs:{label:"第二"}},[i("el-input",{model:{value:e.form.second,callback:function(t){e.$set(e.form,"second",t)},expression:"form.second"}})],1),i("el-form-item",{staticClass:"inline-block",attrs:{label:"第三"}},[i("el-input",{model:{value:e.form.third,callback:function(t){e.$set(e.form,"third",t)},expression:"form.third"}})],1),i("el-form-item",{attrs:{label:"上传封面"}},[i("el-upload",{attrs:{action:e.ini.horse_url,"list-type":"picture-card",limit:1,name:"img","file-list":e.fileList,"on-remove":e.handleRemove,"on-preview":e.handlePictureCardPreview,"on-success":e.handleSuccess}},[i("i",{staticClass:"el-icon-plus"})]),i("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1),e.form.desc?i("dj-ueditor",{ref:"ueditor",attrs:{content:e.form.desc}}):e._e(),i("el-form-item",[i("el-button",{staticClass:"primary-button",attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v(e._s(e.submitText))]),i("el-button",{on:{click:function(t){return e.$router.go(-1)}}},[e._v("取消")])],1)],1)],1)},a=[],o=(i("7f7f"),i("880a")),s=i("0729"),r=i("e759"),n=i("bc3a"),c=i.n(n),m={components:{DjUeditor:r["a"]},data:function(){return{ini:{horse_url:"".concat(s["a"],"/upload.php?c=Upload&a=index&type=4"),del_url:"".concat(s["a"],"/upload.php?c=Upload&a=del&res=")},form:{name:"",win:"",place:"",total:"",icon:"",rank:"",first:"",second:"",third:"",desc:""},fileList:[],dialogVisible:!1,dialogImageUrl:"",submitText:"立即创建",id:this.$route.query.id}},created:function(){this.$route.query.id>0?(this.submitText="立即修改",this._getCaballero()):this.form.desc=" "},methods:{_getCaballero:function(){var e=this;this.form.id=this.id,Object(o["i"])("info",this.form).then(function(t){t&&e.getCaballero(t)})},getCaballero:function(e){this.form=e,this.fileList.push({name:"icon.png",url:this.form.icon})},_postCaballero:function(){var e=this;this.form.desc=this.$refs.ueditor.msg,Object(o["i"])("set",this.form).then(function(t){t&&e.postCaballero(t)})},postCaballero:function(e){this.$message({type:"success",message:"添加成功"}),this.$router.push({name:"caballero"})},onSubmit:function(){for(var e in this.form)""===this.form[e]&&(this.form[e]=0);this._postCaballero()},handleRemove:function(e,t){var i=this;c.a.post("".concat(this.ini.del_url).concat(e.response.data.img_url)).then(function(t){delete i.imagesObj[e.name]}).catch(function(e){console.log(e)})},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleSuccess:function(e,t,i){this.form.icon=e.data.img_url}}},f=m,u=(i("0cfa"),i("2877")),d=Object(u["a"])(f,l,a,!1,null,"63c32d70",null);t["default"]=d.exports},b8cb:function(e,t,i){}}]);
//# sourceMappingURL=chunk-5695011e.7d6344e5.js.map